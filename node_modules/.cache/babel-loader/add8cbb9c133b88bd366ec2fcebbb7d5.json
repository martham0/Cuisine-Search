{"ast":null,"code":"/*jshint esversion: 6 */\nvar request = require('request');\n\nvar yelpAPI = class yelpAPI {\n  constructor(apiKey, apiVersion = \"v3\") {\n    this.apiKey = apiKey;\n    this.baseUrl = 'https://api.yelp.com/';\n    this.apiVersion = apiVersion;\n  }\n\n  query(endPoint, params = []) {\n    var urlParams = this.stringifyParams(params);\n    var requestUrl = this.baseUrl + this.apiVersion + '/' + endPoint + urlParams;\n    return new Promise((resolve, reject) => {\n      request.get(requestUrl, {\n        headers: {\n          'Authorization': 'Bearer ' + this.apiKey\n        }\n      }, function optionalCallback(err, httpResponse, body) {\n        if (err) {\n          reject(err);\n        }\n\n        resolve(body);\n      });\n    });\n  }\n\n  stringifyParams(params) {\n    var urlParams = '?';\n    params.forEach(function (param) {\n      Object.keys(param).forEach(function (key) {\n        urlParams += '&' + key + '=' + param[key];\n      });\n    });\n    return urlParams;\n  }\n\n};\nmodule.exports = yelpAPI;","map":{"version":3,"sources":["/Users/mm/Desktop/Projects/yelp/node_modules/yelp-api/yelp-api.js"],"names":["request","require","yelpAPI","constructor","apiKey","apiVersion","baseUrl","query","endPoint","params","urlParams","stringifyParams","requestUrl","Promise","resolve","reject","get","headers","optionalCallback","err","httpResponse","body","forEach","param","Object","keys","key","module","exports"],"mappings":"AAAA;AAEA,IAAIA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAArB;;AAEA,IAAIC,OAAO,GAAG,MAAMA,OAAN,CAAc;AAE3BC,EAAAA,WAAW,CAAEC,MAAF,EAAUC,UAAU,GAAG,IAAvB,EAA6B;AACvC,SAAKD,MAAL,GAAcA,MAAd;AACA,SAAKE,OAAL,GAAe,uBAAf;AACA,SAAKD,UAAL,GAAkBA,UAAlB;AACA;;AAEDE,EAAAA,KAAK,CAACC,QAAD,EAAWC,MAAM,GAAG,EAApB,EAAwB;AAE5B,QAAIC,SAAS,GAAG,KAAKC,eAAL,CAAqBF,MAArB,CAAhB;AAEA,QAAIG,UAAU,GAAG,KAAKN,OAAL,GAAe,KAAKD,UAApB,GAAiC,GAAjC,GAAuCG,QAAvC,GAAkDE,SAAnE;AAEA,WAAO,IAAIG,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AAEvCf,MAAAA,OAAO,CAACgB,GAAR,CAAYJ,UAAZ,EAAwB;AACtBK,QAAAA,OAAO,EAAE;AACP,2BAAiB,YAAY,KAAKb;AAD3B;AADa,OAAxB,EAIG,SAASc,gBAAT,CAA0BC,GAA1B,EAA+BC,YAA/B,EAA6CC,IAA7C,EAAmD;AACrD,YAAIF,GAAJ,EAAS;AACRJ,UAAAA,MAAM,CAACI,GAAD,CAAN;AACA;;AAEDL,QAAAA,OAAO,CAACO,IAAD,CAAP;AACA,OAVD;AAYA,KAdM,CAAP;AAgBA;;AAEDV,EAAAA,eAAe,CAACF,MAAD,EAAS;AAEvB,QAAIC,SAAS,GAAG,GAAhB;AAEAD,IAAAA,MAAM,CAACa,OAAP,CAAe,UAASC,KAAT,EAAgB;AAC9BC,MAAAA,MAAM,CAACC,IAAP,CAAYF,KAAZ,EAAmBD,OAAnB,CAA2B,UAAUI,GAAV,EAAe;AACzChB,QAAAA,SAAS,IAAI,MAAMgB,GAAN,GAAY,GAAZ,GAAkBH,KAAK,CAACG,GAAD,CAApC;AACA,OAFD;AAGA,KAJD;AAMA,WAAOhB,SAAP;AAEA;;AA5C0B,CAA5B;AAgDAiB,MAAM,CAACC,OAAP,GAAiB1B,OAAjB","sourcesContent":["/*jshint esversion: 6 */ \n\nvar request = require('request');\n\nvar yelpAPI = class yelpAPI {\n\n\tconstructor (apiKey, apiVersion = \"v3\") {\n\t\tthis.apiKey = apiKey;\n\t\tthis.baseUrl = 'https://api.yelp.com/';\n\t\tthis.apiVersion = apiVersion;\n\t}\n\n\tquery(endPoint, params = []) {\n\n\t\tvar urlParams = this.stringifyParams(params);\n\n\t\tvar requestUrl = this.baseUrl + this.apiVersion + '/' + endPoint + urlParams;\n\n\t\treturn new Promise((resolve, reject) => {\n\n\t\t\trequest.get(requestUrl, {\n\t\t\t  headers: {\n\t\t\t    'Authorization': 'Bearer ' + this.apiKey\n\t\t\t  }\n\t\t\t}, function optionalCallback(err, httpResponse, body) {\n\t\t\t\tif (err) {\n\t\t\t\t\treject(err);\n\t\t\t\t}\n\n\t\t\t\tresolve(body);\n\t\t\t});\n\n\t\t});\n\n\t}\n\n\tstringifyParams(params) {\n\n\t\tvar urlParams = '?';\n\t\t\n\t\tparams.forEach(function(param) {\n\t\t\tObject.keys(param).forEach(function (key) {\n\t\t\t\turlParams += '&' + key + '=' + param[key];\n\t\t\t});\n\t\t});\n\n\t\treturn urlParams;\n\n\t}\n\n};\n\nmodule.exports = yelpAPI;"]},"metadata":{},"sourceType":"script"}